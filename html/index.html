<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Olá Mundo</title>
    <link rel="stylesheet" href="../css/estilo.css" />
    <script type="module" src="../js/script.js"></script>
  </head>

  <body>
    <button class="botao" onclick="get_posts()">Carregar Posts</button>
    <div class="posts"></div>
    <script type="module">
      const mensagem = "Teste com Botão!";

      // const p = document.createElement("p");
      // p.innerText = "Paragráfo";

      // const div = document.querySelector("div.caixa");
      // div.appendChild(p);

      async function get_posts() {
        return fetch("https://jsonplaceholder.typicode.com/posts")
          .then(function (response) {
            return response.json();
          })
          .catch((err) => console.log(err));
      }

      // arrow functions
      const getPosts = async () =>
        fetch("https://jsonplaceholder.typicode.com/posts").then((response) =>
          response.json()
        );

      const posts = await getPosts();
      const div = document.querySelector("div.posts");
      for (let i = 0; i < posts.length; i++) {
        const post = posts[i];
        const p = document.createElement("p");
        p.innerText = post["body"];
        console.log(p);
        p.style.color = "red";
        div.appendChild(p);
      }

      // utilizar createTextNode para lista
    </script>
  </body>
</html>
